<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Stock Details</title>
		<style>
			:root {
				--gap-size: 32px;
				box-sizing: border-box;
				font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif;
				color: #000;
			}

			* {
				box-sizing: border-box;
			}

			body {
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				background: #fff;
			}

			header,
			footer {
				display: flex;
				width: 100%;
				align-items: center;
				background: rgba(0, 0, 0, 0.05);
				gap: 12px;
			}

			header {
				justify-content: space-between;
				padding: 0 var(--gap-size);
				gap: calc(var(--gap-size) * 2);
				box-shadow: rgba(0, 0, 0, 0.05) 0 2px 6px 0;
				flex-direction: row;
				z-index: 1;
			}

			header #site-logo {
				font-weight: 600;
				font-size: 32px;
				padding: 16px;
				background: var(--18-promo-gradient-02, linear-gradient(90deg, #00bce5 0%, #2962ff 100%));
				-webkit-text-fill-color: transparent;
				-webkit-background-clip: text;
				background-clip: text;
			}

			header select {
				padding: 10px;
				border: 1px solid #ccc;
				border-radius: 20px;
			}

			footer {
				flex-direction: column;
				padding: calc(var(--gap-size) * 0.5) var(--gap-size);
				margin-top: var(--gap-size);
				border-top: solid 2px rgba(0, 0, 0, 0.1);
				justify-content: center;
			}

			footer p,
			#powered-by-tv p {
				margin: 0;
				font-size: 12px;
				color: rgba(0, 0, 0, 0.6);
			}

			main {
				display: grid;
				width: 100%;
				padding: 0 calc(var(--gap-size) * 0.5);
				max-width: 960px;
				grid-template-columns: 1fr 1fr;
				grid-gap: var(--gap-size);
			}

			.span-full-grid,
			#symbol-info,
			#company-profile,
			#fundamental-data {
				grid-column: span 2;
			}

			.span-one-column,
			#technical-analysis,
			#advanced-chart,
			#additional-advanced-chart,
			#top-stories,
			#powered-by-tv {
				grid-column: span 1;
			}

			#ticker-tape {
				width: 100%;
				margin-bottom: var(--gap-size);
			}

			#advanced-chart {
				height: 500px;
			}

			#additional-advanced-chart {
				height: 500px;
			}

			#company-profile {
				height: 390px;
			}

			#fundamental-data {
				height: 490px;
			}

			#technical-analysis,
			#top-stories {
				height: 425px;
			}

			#powered-by-tv {
				display: flex;
				background: #f8f9fd;
				border: solid 1px #e0e3eb;
				text-align: justify;
				flex-direction: column;
				gap: 8px;
				font-size: 14px;
				padding: 16px;
				border-radius: 6px;
			}

			#powered-by-tv a,
			#powered-by-tv a:visited {
				color: #2962ff;
			}

			@media (max-width: 800px) {
				main > section,
				.span-full-grid,
				#technical-analysis,
				#top-stories,
				#powered-by-tv {
					grid-column: span 2;
				}
			}
		</style>
	</head>
	<body>
		<header>
			<a id="site-logo" href="#">TradingVista</a>
			<select id="stock-selector">
				<option value="NASDAQ:AAPL">Apple (AAPL)</option>
				<option value="NASDAQ:MSFT">Microsoft (MSFT)</option>
				<option value="NASDAQ:TSLA">Tesla (TSLA)</option>
				<option value="NASDAQ:GOOGL">Google (GOOGL)</option>
				<!-- Add more stock options as needed -->
			</select>
		</header>
		<nav id="ticker-tape">
			<!-- TradingView Widget BEGIN -->
			<div class="tradingview-widget-container">
				<div class="tradingview-widget-container__widget"></div>
				<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
					{
					"symbols": [
					  {"description": "", "proName": "NASDAQ:TSLA"},
					  {"description": "", "proName": "NASDAQ:AAPL"},
					  {"description": "", "proName": "NASDAQ:NVDA"},
					  {"description": "", "proName": "NASDAQ:MSFT"},
					  {"description": "", "proName": "NASDAQ:AMZN"},
					  {"description": "", "proName": "NASDAQ:GOOGL"},
					  {"description": "", "proName": "NASDAQ:META"},
					  {"description": "", "proName": "NYSE:BRK.B"},
					  {"description": "", "proName": "NYSE:LLY"},
					  {"description": "", "proName": "NYSE:UNH"},
					  {"description": "", "proName": "NYSE:V"},
					  {"description": "", "proName": "NYSE:WMT"}
					],
					"showSymbolLogo": true,
					"colorTheme": "light",
					"isTransparent": false,
					"displayMode": "adaptive",
					"locale": "en",
					"largeChartUrl": "https://www.tradingview.com/widget-docs/tutorials/build-page/demo/"
					}
				</script>
			</div>
			<!-- TradingView Widget END -->
		</nav>
		<main>
			<section id="symbol-info">
				<!-- TradingView Widget BEGIN -->
				<div class="tradingview-widget-container">
					<div class="tradingview-widget-container__widget"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js" async>
						{
						"symbol": "NASDAQ:AAPL",
						"width": "100%",
						"locale": "en",
						"colorTheme": "light",
						"isTransparent": true
						}
					</script>
				</div>
				<!-- TradingView Widget END -->
			</section>
			<section id="advanced-chart">
				<!-- Existing Advanced Chart -->
				<div class="tradingview-widget-container" style="height:100%;width:100%">
					<div class="tradingview-widget-container__widget" style="height:calc(100% - 32px);width:100%"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
					{
					"autosize": true,
					"symbol": "NASDAQ:AAPL",
					"interval": "D",
					"timezone": "Etc/UTC",
					"theme": "light",
					"style": "1",
					"locale": "en",
					"allow_symbol_change": true,
					"calendar": false,
					"support_host": "https://www.tradingview.com"
					}
					</script>
				</div>
			</section>
			
			<section id="additional-advanced-chart">
				<!-- New Additional Chart -->
				<div class="tradingview-widget-container" style="height:100%;width:100%">
					<div class="tradingview-widget-container__widget" style="height:calc(100% - 32px);width:100%"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
					{
					"autosize": true,
					"symbol": "NASDAQ:AAPL",
					"interval": "D",
					"timezone": "Etc/UTC",
					"theme": "light",
					"style": "1",
					"locale": "en",
					"allow_symbol_change": true,
					"calendar": false,
					"support_host": "https://www.tradingview.com"
					}
					</script>
				</div>
			</section>

			<section id="company-profile">
				<!-- TradingView Widget BEGIN -->
				<div class="tradingview-widget-container">
					<div class="tradingview-widget-container__widget"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-company-profile.js" async>
						{
						"symbol": "NASDAQ:AAPL",
						"width": "100%",
						"height": "390",
						"locale": "en",
						"colorTheme": "light",
						"isTransparent": true
						}
					</script>
				</div>
				<!-- TradingView Widget END -->
			</section>
			<section id="fundamental-data">
				<!-- TradingView Widget BEGIN -->
				<div class="tradingview-widget-container">
					<div class="tradingview-widget-container__widget"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-fundamental-data.js" async>
						{
						"symbol": "NASDAQ:AAPL",
						"width": "100%",
						"height": "490",
						"locale": "en",
						"colorTheme": "light",
						"isTransparent": true
						}
					</script>
				</div>
				<!-- TradingView Widget END -->
			</section>
			<section id="technical-analysis">
				<!-- TradingView Widget BEGIN -->
				<div class="tradingview-widget-container">
					<div class="tradingview-widget-container__widget"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js" async>
						{
						"symbol": "NASDAQ:AAPL",
						"width": "100%",
						"height": "425",
						"locale": "en",
						"colorTheme": "light",
						"isTransparent": true
						}
					</script>
				</div>
				<!-- TradingView Widget END -->
			</section>
			<section id="top-stories">
				<!-- TradingView Widget BEGIN -->
				<div class="tradingview-widget-container">
					<div class="tradingview-widget-container__widget"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-top-stories.js" async>
						{
						"width": "100%",
						"height": "425",
						"locale": "en",
						"colorTheme": "light",
						"isTransparent": true,
						"showSymbolLogo": true,
						"symbols": [
						  {
							"symbol": "NASDAQ:AAPL",
							"url": "https://www.tradingview.com/symbols/NASDAQ-AAPL/"
						  }
						]
					}
					</script>
				</div>
				<!-- TradingView Widget END -->
			</section>
			<section id="powered-by-tv">
				<p>
					Powered by <a href="https://www.tradingview.com/" target="_blank">TradingView</a>
				</p>
			</section>
		</main>
		<footer>
			<p>&copy; 2024 TradingVista</p>
		</footer>

		<script>
			document.getElementById('stock-selector').addEventListener('change', function() {
				const selectedSymbol = this.value;
				
				// Update all TradingView widgets with the selected symbol
				updateTradingViewWidgets(selectedSymbol);
			});

			function updateTradingViewWidgets(symbol) {
				const widgets = [
					{ id: 'symbol-info', type: 'symbol-info' },
					{ id: 'advanced-chart', type: 'advanced-chart' },
					{ id: 'additional-advanced-chart', type: 'advanced-chart' },
					{ id: 'company-profile', type: 'company-profile' },
					{ id: 'fundamental-data', type: 'fundamental-data' },
					{ id: 'technical-analysis', type: 'technical-analysis' },
					{ id: 'top-stories', type: 'top-stories' },
				];

				widgets.forEach(widget => {
					const widgetContainer = document.querySelector(`#${widget.id} .tradingview-widget-container__widget`);
					widgetContainer.innerHTML = ''; // Clear previous widget content
					const script = document.createElement('script');
					script.type = 'text/javascript';
					script.src = `https://s3.tradingview.com/external-embedding/embed-widget-${widget.type}.js`;
					script.async = true;
					script.innerHTML = JSON.stringify({
						symbol: symbol,
						locale: 'en',
						colorTheme: 'light',
						isTransparent: true,
						width: '100%',
						height: widget.id === 'company-profile' ? '390' : '490', // Adjust height as needed
					});
					widgetContainer.appendChild(script);
				});
			}
		</script>
	</body>
</html>